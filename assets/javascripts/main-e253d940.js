$(function(){function a(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}if($(document).on("click",".js-locale",function(){var t=$(this).data("locale");a()&&localStorage.setItem("lastLocale",t)}),"/"==window.location.pathname&&a()){if(null==localStorage.getItem("lastLocale")){var t=(navigator.language||navigator.userLanguage).match(/^[a-z]{2}/)[0];"fr"==t||"en"==t?localStorage.setItem("lastLocale",t):localStorage.setItem("lastLocale",defaultLang)}localStorage.getItem("lastLocale")!=$("body").data("locale")&&(window.location=localStorage.getItem("lastLocale"))}});